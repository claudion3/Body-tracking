(this["webpackJsonptruck-app-client"]=this["webpackJsonptruck-app-client"]||[]).push([[0],{47:function(e,t,a){},73:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),i=a.n(c),s=(a(47),a(3)),o=a(4),l=a(6),d=a(12),u=a(7),b=a.n(u),p=a(14),j="GET_BODY_TRACK_REQUEST",h="GET_BODY_TRACK_SUCCESS",f="GET_BODY_TRACK_FAIL",O="POST_BODY_TRACK_REQUEST",v="POST_BODY_TRACK_SUCCESS",m="POST_BODY_TRACK_FAIL",g="GET_PRODUCTS_REQUEST",y="GET_PRODUCTS_SUCCESS",T="GET_PRODUCTS_FAIL",x="DELETE_BODY_TRACK_REQUEST",k="DELETE_BODY_TRACK_SUCCESS",_="DELETE_BODY_TRACK_FAIL",E=a(15),S=a.n(E),C=(a(73),a(25)),w=(a(77),a(39)),D=a(1),R=function(e){var t=e.data,a=e.removeTruck,n=e.editTrack,r=new Date(t.date).toLocaleDateString();return Object(D.jsx)(C.VerticalTimeline,{"data-testid":"timeline",children:Object(D.jsxs)(C.VerticalTimelineElement,{contentStyle:{background:" #E9E6EA",color:"#000"},contentArrowStyle:{borderRight:"7px solid  rgb(233,230,234)"},date:r,iconStyle:{background:"rgb(16, 204, 82)",color:"#fff"},children:[Object(D.jsx)("h3",{className:"vertical-timeline-element-title",children:"Body Tracking Data"}),Object(D.jsxs)("p",{className:"vertical-timeline-element-subtitle",children:["Weight ",t.weight," Kg"]}),Object(D.jsxs)("p",{className:"vertical-timeline-element-subtitle",children:["Hip Width ",t.hipWidth," cm"]}),Object(D.jsxs)("div",{className:"edit-delete",children:[Object(D.jsx)(w.Link,{to:"edit",smooth:!0,duration:1e3,children:Object(D.jsx)("button",{className:"edit",onClick:function(){return n(t)},children:Object(D.jsx)("i",{class:"fas fa-edit"})})}),Object(D.jsx)("button",{className:"delete",onClick:function(){return a(t._id)},children:Object(D.jsx)("i",{className:"fas fa-trash"})})]})]})})},N=(a(87),a(88),function(e){var t=e.title;return Object(D.jsxs)("nav",{className:"navbar","data-testid":"navbar",children:[Object(D.jsx)("div",{className:"navbar_logo",children:Object(D.jsx)("h2",{children:t})}),Object(D.jsxs)("div",{className:"hamburger_menu",children:[Object(D.jsx)("div",{}),Object(D.jsx)("div",{}),Object(D.jsx)("div",{})]})]})}),A=Object(n.forwardRef)((function(e,t){var a=r.a.useState(""),c=Object(l.a)(a,2),i=c[0],s=c[1],o=r.a.useState(""),d=Object(l.a)(o,2),u=d[0],b=d[1];return Object(n.useImperativeHandle)(t,(function(){return{validate:function(){return function(){if(e.validation)for(var t=e.validation.split("|"),a=0;a<t.length;a++){var n=t[a];if("required"===n){if(!i)return b("This field is required"),!1;if(i<0)return b("Negative number are not allowed"),!1;if(i<20&&i>0)return b("Invalid input try high number"),!1}var r=n.split(":");switch(r[0]){case"min":if(i.length<r[1])return b("This field must be at least ".concat(r[1]," character long")),!1;break;case"max":if(i.length>r[1])return b("This field must be no longer than ".concat(r[1]," character long")),!1}}return!0}()}}})),Object(D.jsxs)("div",{className:"input-wrapper",children:[e.label&&Object(D.jsx)("label",{"data-testid":"label",children:e.label}),Object(D.jsx)("input",{"data-testid":"input",placeholder:e.placeholder,name:e.name,onChange:function(t){return function(t){s(t.target.value),b(""),e.onChange(t.target.name,t.target.value)}(t)},type:e.type,value:e.value?e.value:i,autoComplete:e.autoComplete}),u&&Object(D.jsx)("p",{className:"error","data-testid":"error",children:u})]})}));A.defaultProps={placeholder:"",name:"",type:"number",value:"",autoComplete:"off",validation:""};var B=A,L=a(42),W=function(){var e=Object(d.b)(),t=Object(n.useRef)([Object(n.createRef)(),Object(n.createRef)(),Object(n.createRef)()]),a=Object(d.c)((function(e){return e.getAllTrack})),r=a.bodyTrack,c=a.loading,i=a.error,u=Object(n.useState)({}),E=Object(l.a)(u,2),C=E[0],w=E[1],A=Object(n.useState)([]),W=Object(l.a)(A,2),U=W[0],K=W[1],P=Object(n.useState)([]),Y=Object(l.a)(P,2),F=Y[0],I=Y[1];Object(n.useEffect)((function(){e(function(){var e=Object(p.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:j}),e.next=4,S.a.get("/bodytrack/");case 4:a=e.sent,n=a.data,t({type:h,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:f,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(n.useEffect)((function(){if(r&&r.length>0){var e=r.map((function(e){return e.weight})),t=r.map((function(e){return e.hipWidth}));K(e),I(t)}}),[r]);var G=function(){setTimeout((function(){window.location.reload()}),100)},q=function(t){e(function(e){return function(){var t=Object(p.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:x}),t.next=4,S.a.delete("/bodytrack/".concat(e));case 4:n=t.sent,r=n.data,a({type:k,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:_,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(t)),G()},H=function(e){w(e)},M=function(e,t){w((function(a){return Object(o.a)(Object(o.a)({},a),{},Object(s.a)({},e,t))}))};return Object(D.jsxs)("div",{className:"app",children:[Object(D.jsx)(N,{title:"Tracking App"}),Object(D.jsxs)("div",{className:"input-chart",id:"edit",children:[Object(D.jsx)("div",{className:"input",children:Object(D.jsxs)("form",{onSubmit:function(a){a.preventDefault();for(var n=!0,r=0;r<t.current.length;r++){t.current[r].current.validate()||(n=!1)}if(n){var c;C._id?e((c=C,function(){var e=Object(p.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:g}),e.next=4,S.a.put("/bodytrack/".concat(c._id),c);case 4:a=e.sent,n=a.editData,t({type:y,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:T,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())):e(function(e){return function(){var t=Object(p.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:O}),t.next=4,S.a.post("/bodytrack/",e);case 4:n=t.sent,r=n.inputDate,a({type:v,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:m,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(C));for(var i=a.target,s=0;s<i.length;s++)i[s].value="";G()}},className:"form",children:[Object(D.jsx)("h1",{children:"Enter New Measurement"}),Object(D.jsx)(B,{ref:t.current[0],name:"date",label:"Date*:",type:"date",value:C.date,onChange:M,validation:"required|min:8"}),Object(D.jsx)(B,{ref:t.current[1],name:"weight",placeholder:"Enter your weight...",label:"Weight*:",value:C.weight,onChange:M,validation:"required|min:2|max:3"}),Object(D.jsx)(B,{ref:t.current[2],name:"hipWidth",placeholder:"Enter your Hip Width...",label:"Hip Width*:",value:C.hipWidth,validation:"required|min:2|max:3",onChange:M}),Object(D.jsx)("button",{type:"submit",children:"Submit"})]})}),Object(D.jsx)("div",{className:"chart",children:Object(D.jsx)(L.a,{data:{labels:["1","2","3","4","5","6","8","9","10","11","12"],datasets:[{label:"My Weight",data:U,fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1},{label:"Hip Width",data:F,fill:!1,borderColor:"rgb(128,196,127)",tension:.1}]},height:400,width:600})})]}),c?Object(D.jsx)("h2",{children:"Loading..."}):i?Object(D.jsx)("h2",{children:i}):Object(D.jsx)("div",{className:"timeline-container",children:r.length>0&&r.map((function(e,t){return Object(D.jsx)(R,{data:e,removeTrack:q,editTrack:H},t)}))})]})},U=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,90)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))},K=a(13),P=a(41),Y=a(40),F=a(2),I=Object(K.combineReducers)({getAllTrack:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{bodyTrack:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return{loading:!0};case h:return Object(o.a)(Object(o.a)({},e),{},{bodyTrack:Object(F.a)(t.payload),loading:!1});case f:return{loading:!1,error:t.payload};default:return e}},createBdTrack:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{bodyTrack:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{loading:!0};case v:return Object(o.a)(Object(o.a)({},e),{},{bodyTrack:[].concat(Object(F.a)(e.bodyTruck),[t.payload]),loading:!1});case m:return{loading:!1,error:t.payload};default:return e}},editBdTrack:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{bodyTrack:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{loading:!0};case y:return Object(o.a)(Object(o.a)({},e),{},{bodyTrack:e.bodyTrack.map((function(e){return e._id===t.payload._id?t.payload:e})),loading:!1});case T:return{loading:!1,error:t.payload};default:return e}},deleteBdTrack:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{bodyTrack:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{loading:!0};case k:return Object(o.a)(Object(o.a)({},e),{},{bodyTrack:e.bodyTrack.filter((function(e){return e._id!==t.payload})),loading:!1});case _:return{loading:!1,error:t.payload};default:return e}}}),G=[P.a],q=Object(K.createStore)(I,Object(Y.composeWithDevTools)(K.applyMiddleware.apply(void 0,G)));i.a.render(Object(D.jsx)(d.a,{store:q,children:Object(D.jsx)(r.a.StrictMode,{children:Object(D.jsx)(W,{})})}),document.getElementById("root")),U()}},[[89,1,2]]]);
//# sourceMappingURL=main.ca67c6fb.chunk.js.map